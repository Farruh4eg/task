# Приложение для тестового задания

Это приложение представляет собой простой backend сервис, разработанный в рамках тестового задания на позицию junior backend разработчика.

## Функциональность

Приложение реализует следующие возможности:

* **Аутентификация пользователей:** Регистрация (`/api/auth/register`), вход (`/api/auth/login`), выход (`/api/auth/logout`), обновление токенов (`/api/auth/refresh`). Используются JWT токены (access и refresh).
* **Управление пользователями:** Получение информации о пользователе (`/users/:id`).
* **Обработка ошибок:** Стандартизированные ответы с кодами ошибок.
* **Валидация данных:** Проверка входящих данных с использованием Zod.

## Настройка окружения

Для запуска приложения необходимо создать файл `.env` в корневой директории проекта со следующими переменными окружения:

*   `PORT`: Порт, на котором будет запущено приложение (например, `8080`).
*   `DATABASE_URL`: Строка подключения к базе данных. Для локальной разработки можно использовать SQLite (например, `"file:../data/dev.db"`).
*   `JWT_ACCESS_SECRET`: Секретный ключ для генерации JWT токенов доступа. Это должна быть длинная, случайная строка.
*   `JWT_REFRESH_SECRET`: Секретный ключ для генерации JWT токенов обновления. Это должна быть длинная, случайная строка, отличная от `JWT_ACCESS_SECRET`.
*   `JWT_ACCESS_EXPIRES_IN`: Время жизни JWT токена доступа (например, `15m` для 15 минут).
*   `JWT_REFRESH_EXPIRES_IN`: Время жизни JWT токена обновления (например, `30d` для 30 дней).

**Пример `.env` файла:**

```env
PORT=8080
DATABASE_URL="file:../data/dev.db"

JWT_ACCESS_SECRET=your_strong_random_access_secret_here
JWT_REFRESH_SECRET=your_strong_random_refresh_secret_here

JWT_ACCESS_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=30d
```

## Запуск приложения

1.  **Установите зависимости:**
    ```bash
    npm install
    ```

2.  **Создайте и настройте файл `.env`** в корне проекта, как описано в разделе "Настройка окружения".

3.  **Примените миграции базы данных:**
    ```bash
    npx prisma migrate dev
    ```

4.  **(Опционально) Заполните базу данных начальными данными:**
    ```bash
    npx prisma db seed
    ```

5.  **Запустите приложение в режиме разработки:**
    ```bash
    npm run dev
    ```
    Сервер будет доступен по адресу `http://localhost:PORT`, где `PORT` - значение из вашего `.env` файла.

6.  **Для сборки проекта (production build):**
    ```bash
    npm run build
    ```
    Собранные файлы появятся в директории `dist/`.

## Тестирование

Для запуска тестов выполните команду:
```bash
npm test
```
